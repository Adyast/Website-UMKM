<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Admin Dashboard - Menu Management</title>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <script src="../assets/js/main.js"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#D4A373",
                        "background-light": "#FAF9F6",
                        "background-dark": "#0F0F0F",
                        "card-dark": "#1E1E1E",
                        "card-light": "#FFFFFF",
                        "surface-dark": "#181818",
                        "surface-light": "#F0EFEB"
                    },
                    fontFamily: {
                        display: ["Playfair Display", "serif"],
                        body: ["Inter", "sans-serif"],
                    },
                },
            },
        };
    </script>
</head>
<body class="bg-background-light dark:bg-background-dark text-gray-800 dark:text-gray-200 font-body transition-colors duration-300 antialiased selection:bg-primary selection:text-white h-screen overflow-hidden">

<div class="flex h-full w-full">
    <main class="flex-1 flex flex-col min-w-0 overflow-hidden relative">
        <div class="flex-1 overflow-y-auto p-6 lg:p-10 scroll-smooth">
            <div class="max-w-7xl mx-auto">
                <!-- Header -->
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-2 text-primary/80">
                        <span class="material-icons-round text-2xl">coffee</span>
                        <span class="font-display font-bold text-xl text-white tracking-tight">Nocturne<span class="text-primary">.</span></span>
                    </div>
                    <div class="flex items-center">
                        <a id="logout-link" class="flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white bg-card-dark border border-gray-800 hover:border-gray-600 rounded-lg transition-all group" href="#">
                            <span class="material-icons-round text-lg group-hover:text-primary transition-colors">logout</span>
                            <span class="font-medium text-sm">Logout</span>
                        </a>
                    </div>
                </div>

                <!-- Title -->
                <header class="flex flex-col justify-between items-start mb-10 border-b border-gray-800/50 pb-8">
                    <div>
                        <h1 class="font-display text-3xl lg:text-4xl font-bold text-white mb-1">Menu Management</h1>
                        <p class="text-primary font-medium text-sm mb-4">Welcome, Admin</p>
                        <p class="text-gray-400 font-light max-w-2xl">Create, update, or remove items from your digital menu.</p>
                    </div>
                </header>

                <!-- Main Content -->
                <div class="grid grid-cols-1 xl:grid-cols-12 gap-8 items-start">
                    <!-- Add Item Form -->
                    <div class="xl:col-span-4">
                        <div class="bg-card-dark rounded-3xl p-6 lg:p-8 shadow-xl border border-gray-800 sticky top-0">
                            <div class="flex items-center gap-2 mb-6 border-b border-gray-700/50 pb-4">
                                <span class="material-icons-round text-primary">add_circle</span>
                                <h2 class="font-display text-xl font-semibold text-white">Add New Item</h2>
                            </div>

                            <form id="add-item-form" class="space-y-5">
                                <div class="space-y-2">
                                    <label class="text-xs font-medium text-gray-400 uppercase tracking-wider ml-1">Item Title</label>
                                    <input name="title" class="w-full bg-surface-dark border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none" placeholder="e.g. Midnight Espresso" type="text" required/>
                                </div>

                                <div class="grid grid-cols-2 gap-4">
                                    <div class="space-y-2">
                                        <label class="text-xs font-medium text-gray-400 uppercase tracking-wider ml-1">Price (Rp)</label>
                                        <input name="price" class="w-full bg-surface-dark border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none" placeholder="0" type="number" required/>
                                    </div>
                                    <div class="space-y-2">
                                        <label class="text-xs font-medium text-gray-400 uppercase tracking-wider ml-1">Category</label>
                                        <select name="category" class="w-full bg-surface-dark border border-gray-700 rounded-xl px-4 py-3 text-white focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none appearance-none cursor-pointer" required>
                                            <option value="minuman">Minuman</option>
                                            <option value="makanan">Makanan</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="space-y-2">
                                    <label class="text-xs font-medium text-gray-400 uppercase tracking-wider ml-1">Description</label>
                                    <textarea name="description" class="w-full bg-surface-dark border border-gray-700 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none resize-none" placeholder="Enter ingredients and details..." rows="3"></textarea>
                                </div>

                                <div class="space-y-2">
                                    <label class="text-xs font-medium text-gray-400 uppercase tracking-wider ml-1">Status</label>
                                    <div class="flex items-center gap-3 bg-surface-dark border border-gray-700 rounded-xl px-4 py-3">
                                        <span class="text-sm text-gray-400">Unavailable</span>
                                        <label class="relative inline-flex items-center cursor-pointer">
                                            <input name="status" class="sr-only peer" type="checkbox"/>
                                            <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-gray-400 after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                        </label>
                                        <span class="text-sm text-white">Available</span>
                                    </div>
                                </div>

                                <button class="w-full bg-primary text-white font-medium py-3.5 rounded-xl mt-4 hover:bg-white hover:text-black transition-all shadow-lg shadow-primary/20 flex items-center justify-center gap-2" type="submit">
                                    <span>Save to Menu</span>
                                    <span class="material-icons-round text-sm">arrow_forward</span>
                                </button>
                            </form>
                        </div>
                    </div>

                    <!-- Menu Items Table -->
                    <div class="xl:col-span-8">
                        <div class="bg-card-dark rounded-3xl border border-gray-800 shadow-xl overflow-hidden flex flex-col h-full">
                            <div class="p-6 lg:p-8 border-b border-gray-700/50">
                                <h2 class="font-display text-xl font-semibold text-white">Existing Menu Items</h2>
                            </div>

                            <div class="overflow-x-auto">
                                <table class="w-full text-left">
                                    <thead class="bg-surface-dark text-gray-400 text-[10px] uppercase font-bold tracking-[0.1em]">
                                        <tr>
                                            <th class="px-6 py-4">Product</th>
                                            <th class="px-6 py-4">Price</th>
                                            <th class="px-6 py-4">Category</th>
                                            <th class="px-6 py-4">Status</th>
                                            <th class="px-6 py-4 text-right">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="menu-tbody" class="divide-y divide-gray-800">
                                        <!-- Rows will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<script src="../assets/js/admin.js"></script>
<script>
// Require authentication for admin dashboard
document.addEventListener('DOMContentLoaded', function() {
    const token = localStorage.getItem('auth_token');
    if (!token) {
        // Not authenticated -> redirect to login
        window.location.href = 'login.html';
    }
});
</script>
</body>
</html>
